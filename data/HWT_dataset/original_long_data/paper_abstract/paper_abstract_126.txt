Autonomous vehicle has been transforming intelligent transportation systems. As telecommunication technology improves, autonomous vehicles are getting connected to each other and to infrastructures, forming connected and autonomous vehicles (cavs). Cavs will help humans achieve safe, efficient, and autonomous transportation systems. However, cavs will face significant security challenges because many of their components are vulnerable to attacks, and a successful attack on a cav may have significant impacts on other cavs and infrastructures due to their communications. In this paper, we conduct a survey on 184 papers from 2000 to 2020 to understand state-of-the-art cav attacks and defense techniques. This survey first presents a comprehensive overview of security attacks and their corresponding countermeasures on cavs. We then discuss the details of attack models based on the targeted cav components of attacks, access requirements, and attack motives. Finally, we identify some current research challenges and trends from the perspectives of both academic research and industrial development. Based on our studies of academic literature and industrial publications, we have not found any strong connection between academic research and industry's implementation on cav-related security issues. While efforts from cav manufacturers to secure cavs have been reported, there is no evidence to show that cavs on the market have the ability to defend against some novel attack models that the research community has recently found. This survey may give researchers and engineers a better understanding of the current status and trend of cav security for cav future improvement.