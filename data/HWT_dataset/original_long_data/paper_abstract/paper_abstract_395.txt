$context$. The assembly history experienced by the milky way is currently being unveiled thanks to the data provided by the $gaia$ mission. It is likely that the globular cluster system of our galaxy has followed a similarly intricate formation path. $aims$. To constrain this formation path, we explore the link between the globular clusters and the known merging events that the milky way has experienced. $methods$. To this end, we combined the kinematic information provided by $gaia$ for almost all galactic clusters, with the largest sample of cluster ages available after carefully correcting for systematic errors. To identify clusters with a common origin we analysed their dynamical properties, particularly in the space of integrals of motion. $results$. We find that about 40% of the clusters likely formed in situ. A similarly large fraction, 35%, appear to be possibly associated to known merger events, in particular to $gaia$-enceladus (19%), the sagittarius dwarf galaxy (5%), the progenitor of the helmi streams (6%), and to the sequoia galaxy (5%), although some uncertainty remains due to the degree of overlap in their dynamical characteristics. Of the remaining clusters, 16% are tentatively associated to a group with high binding energy, while the rest are all on loosely bound orbits and likely have a more heterogeneous origin. The resulting age-metallicity relations are remarkably tight and differ in their detailed properties depending on the progenitor, providing further confidence on the associations made. $conclusions$. We provide a table listing the likely associations. Improved kinematic data by future gaia data releases and especially a larger, systematic error-free sample of cluster ages would help to further solidify our conclusions.